//@flow
import * as React from 'react';
import { _getCookie, _setCookie } from '../../../tools';
import { LayoutContext } from '../../Context';

const CookiePolicy = React.memo<any>(() => {
	const state = React.useContext(LayoutContext);
	const [opened, setOpen] = React.useState(false);
	const cookieP = _getCookie('cp_transaleat_20');
	
	React.useEffect(() => {
		setTimeout(() =>  {
			if (!cookieP ){
				state.setBlurBg(o => !o);
				setOpen(o => !o);
			}
		}, 4000);
	}, [cookieP]);
	return (
		<React.Fragment>
			<div className={`cookie-policy ${opened ? "show" : '' }`}>
				<h2 className="section-title enlarged">Crunchies cookies</h2>
				<p className="section-subtitle">
					Cookies allow us to personalize content and ads, provide social media functionality, and analyze our traffic. We also share information about the use of our site with our social media, advertising and analytics partners, who may combine this with other information that you have provided to them or that they have collected during your use of their services. You consent to our cookies if you continue to use our website.
				</p>
				<button type="button" className="btn btn--cookieAccept" onClick={() => {
					_setCookie('cp_transaleat_20', true);
					state.setBlurBg(false);
					return setOpen(false)
				}}>Accept the cookies <ButtonBorder/></button>
				
				<img src={require('../../../../assets/img/common/cookie-croque.svg')} className="cookie-croque" alt="cookie-croque"/>
			</div>
		</React.Fragment>
	)
});

CookiePolicy.displayName = 'CookiePolicy';

const ButtonBorder = React.memo<any>(() => (
	<svg xmlns="http://www.w3.org/2000/svg" width="216.605" height="69.668" viewBox="0 0 216.605 69.668">
		<g id="Path_3906" data-name="Path 3906" transform="translate(-3793.582 290.668)" fill="#fff">
			<path d="M 3873.533447265625 -222.9999847412109 C 3873.52978515625 -222.9999847412109 3873.528564453125 -222.9999847412109 3873.52490234375 -222.9999847412109 C 3859.499267578125 -223.0001068115234 3847.48193359375 -223.234375 3837.807373046875 -223.6962890625 C 3829.500732421875 -224.0928649902344 3822.673095703125 -224.6701354980469 3817.51416015625 -225.4119873046875 C 3813.25146484375 -226.0249938964844 3810.029052734375 -226.7554931640625 3807.662353515625 -227.6452178955078 C 3805.496337890625 -228.4595184326172 3804.38134765625 -229.2851715087891 3803.567138671875 -229.8880157470703 C 3803.41357421875 -230.0016937255859 3803.2685546875 -230.1091003417969 3803.13427734375 -230.2027587890625 C 3802.236328125 -230.8291320800781 3801.38525390625 -232.0088348388672 3800.531982421875 -233.8091888427734 C 3799.810302734375 -235.3320770263672 3799.088134765625 -237.3104553222656 3798.443359375 -239.5303955078125 C 3797.027587890625 -244.4043121337891 3796.060791015625 -250.0524291992188 3795.720703125 -255.4342803955078 C 3795.37109375 -260.9696350097656 3795.68359375 -265.943603515625 3796.6494140625 -270.2180786132813 C 3797.8203125 -275.3998107910156 3799.935791015625 -279.4036560058594 3802.937255859375 -282.1183471679688 C 3804.613037109375 -283.6340637207031 3808.929443359375 -285.8165588378906 3826.98779296875 -287.263671875 C 3838.4482421875 -288.1820678710938 3854.066162109375 -288.6675415039063 3872.1533203125 -288.6675415039063 C 3899.353271484375 -288.6675415039063 3930.940673828125 -287.5754699707031 3956.6494140625 -285.7462158203125 C 3969.554931640625 -284.8280029296875 3980.561279296875 -283.7461547851563 3988.478759765625 -282.6177062988281 C 4000.460693359375 -280.9099731445313 4003.25439453125 -279.4714660644531 4004.406982421875 -278.28955078125 C 4006.51806640625 -276.1246337890625 4007.758544921875 -272.4914855957031 4008.09423828125 -267.490966796875 C 4008.366455078125 -263.4363403320313 4008.03857421875 -258.43359375 4007.14599609375 -253.0235748291016 C 4006.19482421875 -247.2593383789063 4004.61181640625 -241.169189453125 4002.802978515625 -236.314697265625 C 4001.887939453125 -233.859130859375 4000.953125 -231.8054046630859 4000.024169921875 -230.2105102539063 C 3998.90087890625 -228.2815399169922 3997.80322265625 -227.0630493164063 3996.668701171875 -226.4853973388672 L 3996.28125 -226.2880706787109 L 3995.8466796875 -226.2694854736328 C 3945.128662109375 -224.1000823974609 3903.974853515625 -222.9999847412109 3873.533447265625 -222.9999847412109 Z" stroke="none"/>
			<path d="M 3872.1533203125 -286.6675415039063 C 3837.8642578125 -286.6676025390625 3809.051513671875 -284.9517822265625 3804.27880859375 -280.6350402832031 C 3791.76123046875 -269.3135070800781 3799.81005859375 -234.9602966308594 3804.27880859375 -231.8429565429688 C 3807.388916015625 -229.6729431152344 3810.33203125 -225 3873.525146484375 -225 C 3901.11279296875 -225 3940.176025390625 -225.8900146484375 3995.76123046875 -228.2676391601563 C 4001.58447265625 -231.2326049804688 4011.25830078125 -268.3987426757813 4002.97509765625 -276.8932495117188 C 3997.85009765625 -282.14892578125 3927.7939453125 -286.6673889160156 3872.1533203125 -286.6675415039063 M 3872.150634765625 -290.6675415039063 L 3872.150634765625 -286.6675415039063 L 3872.15185546875 -290.6675415039063 C 3899.398193359375 -290.66748046875 3931.03857421875 -289.573486328125 3956.79150390625 -287.7411499023438 C 3969.927978515625 -286.8064575195313 3980.683837890625 -285.7488403320313 3988.760986328125 -284.5977172851563 C 3993.052978515625 -283.9859619140625 3996.5419921875 -283.3486938476563 3999.131591796875 -282.7035522460938 C 4002.6171875 -281.8350830078125 4004.623046875 -280.9326171875 4005.8388671875 -279.6858520507813 C 4007.190185546875 -278.300048828125 4008.23876953125 -276.4422607421875 4008.95556640625 -274.1641235351563 C 4009.5419921875 -272.3005065917969 4009.923583984375 -270.1004638671875 4010.08984375 -267.6250610351563 C 4010.3720703125 -263.4193115234375 4010.03662109375 -258.2577209472656 4009.119384765625 -252.6982727050781 C 4008.1337890625 -246.7259216308594 4006.556396484375 -240.6594848632813 4004.677001953125 -235.6164245605469 C 4001.6689453125 -227.5434875488281 3999.183837890625 -225.5216064453125 3997.576171875 -224.7030639648438 L 3996.801025390625 -224.3084411621094 L 3995.93212890625 -224.2713012695313 C 3945.184814453125 -222.1006164550781 3904.001220703125 -220.9999694824219 3873.525146484375 -220.9999694824219 C 3859.4677734375 -220.9999694824219 3847.41845703125 -221.2349548339844 3837.71240234375 -221.6983642578125 C 3829.342529296875 -222.0979309082031 3822.451171875 -222.6812438964844 3817.229736328125 -223.43212890625 C 3807.71142578125 -224.8009338378906 3804.77294921875 -226.5066223144531 3802.377197265625 -228.2806396484375 C 3802.22900390625 -228.3902893066406 3802.10107421875 -228.4849853515625 3801.989990234375 -228.5625305175781 C 3800.782470703125 -229.4048461914063 3799.744873046875 -230.7999572753906 3798.724609375 -232.9527282714844 C 3797.947021484375 -234.5934753417969 3797.206298828125 -236.6188354492188 3796.522705078125 -238.9725646972656 C 3795.0673828125 -243.9830627441406 3794.07373046875 -249.7845764160156 3793.724853515625 -255.3083190917969 C 3793.363037109375 -261.0338745117188 3793.690673828125 -266.1985778808594 3794.698486328125 -270.658935546875 C 3795.9619140625 -276.25048828125 3798.282470703125 -280.6050720214844 3801.595703125 -283.6016235351563 C 3803.367919921875 -285.2046508789063 3806.3623046875 -286.3525085449219 3811.304443359375 -287.3235778808594 C 3815.2373046875 -288.0963134765625 3820.4599609375 -288.7468566894531 3826.827392578125 -289.2571716308594 C 3838.34033203125 -290.1798706054688 3854.0126953125 -290.6675415039063 3872.150634765625 -290.6675415039063 Z" fill="#000" stroke="none"/>
		</g>
	</svg>
));

export default CookiePolicy;